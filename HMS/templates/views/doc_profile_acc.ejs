<!DOCTYPE html>
<html lang="en">
<%- include('includes/head') %>

<body>
  <% if (userType === 'admin') { %>
  <%- include('includes/navbar') %>
  <% }else if (userType === 'doctor') { %>
  <%- include('includes/doc_navbar') %>
  <% } %>

  <section class="main">
    <!-- Add Doctor content -->
    <div class="doc-account-content">
      <form action="/doctor/profile?_method=PATCH" method="post" id="doc_acc_profile" enctype="multipart/form-data">
        <div class="container-fluid p-5 bg-white rounded-2">
          <h2>Update Profile</h2>
          <p class="text-secondary">Fill the form below to update profile.</p>

          <div class="doc-acc-container d-lg-flex">
            <div class="acc-img-container pe-lg-5 mt-lg-5">
              <img src="/uploads/<%= doctor.avatar %>" onerror="this.onerror=null; this.src='/Assets/pngwing.com.png'" />
            </div>
            <div class="flex-grow-1">
              <div class="row mt-4 ">
                <div class="col-xl-6 m-0">
                  <p class="text-secondary">ID: <span class="text-black fw-bold"><%= doctor.doc_id %></span></p>
                  <p class="textsec">E-mail: <span class="text-black fw-bold d-inline-block"><%= doctor.email %></span></p>
                  <p class="textsec">Full Name: <span class="text-black fw-bold"><%= doctor.full_name %></span></p>
                </div>
              </div>

              <div class="row mt-4">
                <!-- Contact, DOB and gender -->

                <div class="mb-2">
                  <label for="doc_acc_bio">BIO</label><br />

                  <textarea class="form-control rounded-4" aria-label="BIO" id="doc_acc_bio" name="bio"><%= doctor.bio %></textarea>
                </div>

                <div class="m-0">
                  <label for="doc_acc_contact">Contact Details</label><br />

                  <input class="form-control rounded-4" type="text" minlength="10" maxlength="10" aria-label="Contact Number" id="doc_acc_contact" placeholder="Contact Number" value="<%= doctor.contact_number %>" name="contact" />
                </div>
              </div>

              <!-- address & pincode -->
              <div class="row mt-4">
                <div class="m-0">
                  <label for="doc_acc_address">Address</label><br />

                  <input type="text" class="form-control rounded-4" aria-label="Address" id="doc_acc_address" placeholder="Complete Address" value="<%= doctor.address %>" name="address" />
                </div>

                <div class=" m-0 mt-3">
                  <label for="doc_acc_pincode">Pincode</label><br />

                  <input type="number" minlength="6" class="form-control rounded-4" id="doc_acc_pincode" placeholder="Area pincode" value="<%= doctor.pincode %>" name="pincode" />
                </div>
              </div>

              <hr />

              <!-- username, password-->
              <div class="row mt-4 mb-2">
                <div class="col-lg-6 m-0">
                  <label for="doc_uid">Username</label><br />

                  <input type="text" class="form-control rounded-4" id="doc_uid" placeholder="Change username" value="<%= doctor.username %>" name="username">
                </div>

                <div class="col-lg-6 m-0">
                  <label for="doc_pwd">Password</label><br />

                  <input type="password" minlength="8" class="form-control rounded-4" id="doc_pwd" placeholder="Change password" name="pwd" />
                </div>
              </div>

              <!-- profile picture and additional notes  -->
              <div class="row mt-4 mb-5">

                <div class="m-0">
                  <label for="doc_pic">Profile Picture</label><br />

                  <input type="file" class="form-control rounded-4" id="doc_pic" name="avatar">
                </div>
              </div>

              <!-- create and reset buttons -->
              <div class="row d-flex align-items-center justify-content-center mt-4 mb-4">
                <button type="submit" class="btn btn-primary col-4 m-2">
                  Update Profile
                </button>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </section>

  <!-- bootstrap cdn -->
  <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

  <!-- sweet alert cdn -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js" defer></script>

  <!-- Main js file -->
  <script defer src="/js/admin.js"></script>
</body>

</html>